(this["webpackJsonpcovid-figures"]=this["webpackJsonpcovid-figures"]||[]).push([[0],{36:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(16),i=n.n(a),s=n(9),o=n(11),u=n(3),j=(n(35),n(36),n(14)),d=n(15),l=n(8),b=n.n(l),m=n(10),x=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.covid19tracking.narrativa.com/api/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=["Spain","Italy","Germany","United Kingdom","France","Netherlands","Belgium","Portugal","Brazil","Canada","Chile","China","India","Mexico","US","Colombia","Australia","Denmark"],O=function(e,t){var n=e.dates[t].countries,c=Object.entries(n),r=[],a=0;return c.map((function(e){for(var t=Object(j.a)(e,2),n=t[0],c=t[1],i=0;i<=f.length;i+=1)if(f[i]===n){var s=c.id,o=c.today_confirmed;a+=c.today_confirmed,r.push({id:s,country:n,confirmedCases:o})}return r})),{mainArr:r,num:a}},v=function(){var e=new Date,t=e.toLocaleDateString().split("/"),n=[],c=[t[2],t[0]];return n[0]=c[0],n[1]=c[1],e.getHours()<14?n[2]=t[1]-1:n[2]=[t[1]],n.join("-")},h="covidFigures/countries/GET_COUNTRIES",p=[],g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;return t.type===h?Object(d.a)({countriesTotal:t.num,countries:t.countries},e):e},y=(n(38),n(1)),N=function(e){var t=e.year,n=e.title;return Object(y.jsxs)("div",{className:"d-flex fixed-top header px-2 py-2",children:[Object(y.jsxs)("div",{className:"d-flex",children:[Object(y.jsx)(s.b,{to:"/",children:Object(y.jsx)("box-icon",{color:"white",type:"solid",name:"chevron-left"})}),Object(y.jsx)("div",{className:"text-white",children:t})]}),Object(y.jsx)("div",{className:"text-white",children:n}),Object(y.jsxs)("div",{className:"d-flex",children:[Object(y.jsx)("div",{className:"me-4",children:Object(y.jsx)("box-icon",{color:"white",name:"microphone"})}),Object(y.jsx)("div",{children:Object(y.jsx)("box-icon",{color:"white",name:"cog"})})]})]})};N.defaultProps={year:""};var C=N,w=function(e){var t=e.name,n=e.cases;return Object(y.jsxs)("div",{className:"jumbo d-flex",children:[Object(y.jsx)("div",{className:"icon-div w-50",children:"Countries"===t?Object(y.jsx)("box-icon",{color:"#7B2C4B",size:"8rem",name:"world"}):Object(y.jsx)("box-icon",{color:"#7B2C4B",size:"8rem",name:"map"})}),Object(y.jsxs)("div",{className:"w-50 jumbo-title",children:[Object(y.jsx)("div",{children:t}),Object(y.jsx)("div",{children:n})]})]})};w.defaultProps={cases:0};var S=w,B=function(e){var t=e.topic;return Object(y.jsx)("div",{className:"topic-div",children:Object(y.jsx)("div",{children:t})})},E=function(e){var t=e.num,n=e.id,c=e.name,r=e.cases;return Object(y.jsx)("div",{className:2===t||3===t?"country-div pb-3 tinted-bg":"country-div pb-3 lighter-bg",children:Object(y.jsxs)(s.c,{to:"/".concat(n),children:[Object(y.jsx)("span",{className:"country-arrow",children:Object(y.jsx)("box-icon",{color:"#fff",size:"1rem",name:"right-arrow-circle"})}),Object(y.jsx)("div",{className:"country-bx",children:Object(y.jsx)("box-icon",{color:"#7B2C4B",size:"6rem",name:"map"})}),Object(y.jsxs)("div",{className:"country-text me-2",children:[Object(y.jsx)("div",{className:"country-name",children:c}),Object(y.jsx)("div",{className:"country-sub-cases",children:r})]})]})})},k=function(){var e=Object(o.b)();Object(c.useEffect)((function(){e(function(){var e=Object(m.a)(b.a.mark((function e(t){var n,c,r,a,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v(),e.next=3,x(n);case 3:c=e.sent,r=O(c,n),a=r.mainArr,i=r.num,t({type:h,countries:a,num:i});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]);var t=0,n=Object(o.c)((function(e){return e.countriesReducer})),r=n.countries,a=n.countriesTotal,i=Object(c.useState)(r),s=Object(j.a)(i,2),u=s[0],d=s[1],l=Object(c.useState)(""),f=Object(j.a)(l,2),p=f[0],g=f[1];Object(c.useEffect)((function(){d(r)}),[r]);return Object(y.jsxs)("div",{children:[Object(y.jsx)(C,{year:"2021",title:"countries cases"}),Object(y.jsx)(S,{name:"Countries",cases:a}),Object(y.jsxs)("div",{className:"topic-input d-flex",children:[Object(y.jsx)(B,{topic:"CASES BY COUNTRY"}),Object(y.jsx)("div",{className:"search-input pe-3",children:Object(y.jsx)("input",{type:"text",placeholder:"Search country",onChange:function(e){var t=e.target.value,n="";if(t.length>0){n="".concat(t[0].toUpperCase())+"".concat(t.slice(1,t.length)),g(n);var c=r.filter((function(e){return e.country.includes(n)}));d(c)}else g(n=""),d(r)},value:p})})]}),Object(y.jsx)("div",{className:"countries-container",children:u&&u.map((function(e){return t+1>4?t=1:t+=1,Object(y.jsx)(E,{num:t,id:e.id,name:e.country,cases:e.confirmedCases},e.id)}))})]})},R=function(){var e=Object(m.a)(b.a.mark((function e(t,n){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.covid19tracking.narrativa.com/api/".concat(t,"/country/").concat(n));case 2:return c=e.sent,e.abrupt("return",c.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=function(e,t){var n=Object.keys(e.dates[t].countries),c=e.dates[t].countries[n].regions,r=0;return{regions:c.map((function(e){return Number.isNaN(e.today_confirmed)||(r+=e.today_confirmed),{id:e.id,name:e.name,totalCases:e.today_confirmed}})),name:n,totalCases:r}},z="covidFigures/countries/GET_REGIONS",I=[],T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;return t.type===z?Object(d.a)(Object(d.a)({},e),{},{regions:t.regions,name:t.name,totalCases:t.totalCases}):e},A=function(e){var t=e.name,n=e.cases,c=e.num;return Object(y.jsxs)("div",{className:c%2===0?"one-region d-flex region-even":"one-region d-flex region-odd",children:[Object(y.jsx)("div",{children:t}),Object(y.jsxs)("div",{className:"d-flex",children:[Object(y.jsx)("div",{children:n}),Object(y.jsx)("div",{className:"bx-icon-2",children:Object(y.jsx)("box-icon",{color:"#fff",size:"1rem",name:"right-arrow-circle"})})]})]})},G=function(){var e=Object(o.b)(),t=Object(u.f)().id,n=0;Object(c.useEffect)((function(){var n;e((n=t,function(){var e=Object(m.a)(b.a.mark((function e(t){var c,r,a,i,s,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=v(),e.next=3,R(c,n);case 3:r=e.sent,a=_(r,c),i=a.regions,s=a.name,o=a.totalCases,t({type:z,regions:i,name:s,totalCases:o});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[e,t]);var r=Object(o.c)((function(e){return e.regionsReducer})),a=r.regions,i=r.name,s=r.totalCases;return a?Object(y.jsxs)("div",{children:[Object(y.jsx)(C,{title:"cases by region"}),Object(y.jsx)(S,{name:i[0],cases:s}),Object(y.jsx)(B,{topic:"CASES BY REGION - 2021"}),Object(y.jsx)("ul",{children:a&&a.map((function(e){return n+=1,Object(y.jsx)("li",{children:Object(y.jsx)(A,{num:n,name:e.name,cases:e.totalCases})},e.id)}))})]}):null},U=n(17),D=n(24),F=n.n(D),P=n(25),Y=[F.a,P.a],J=Object(U.b)({countriesReducer:g,regionsReducer:T}),M=Object(U.c)(J,U.a.apply(void 0,Y));var H=function(){return Object(y.jsx)(o.a,{store:M,children:Object(y.jsxs)(u.c,{children:[Object(y.jsx)(u.a,{path:"/",component:k,exact:!0}),Object(y.jsx)(u.a,{path:"/:id",component:G})]})})};i.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(s.a,{children:Object(y.jsx)(H,{})})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.04a0e549.chunk.js.map